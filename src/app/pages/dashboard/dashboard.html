<div class="dashboard-container">
  <app-sidebar></app-sidebar>
  
  <div class="main-content">
    <header class="content-header">
      <div class="search-bar">
        <mat-icon>search</mat-icon>
        <input type="text" placeholder="Buscar pacientes, agendamentos...">
      </div>
      
      <div class="user-info">
        <mat-icon class="notification-icon">notifications_none</mat-icon>
        
        <button mat-icon-button [matMenuTriggerFor]="userMenu" class="user-avatar">
          <div class="avatar-circle">{{ userInitials }}</div>
        </button>
        
        <mat-menu #userMenu="matMenu" class="user-menu">
          <div class="user-menu-header">
            <div class="avatar-circle large">{{ userInitials }}</div>
            <div class="user-details">
              <h4>{{ userName }}</h4>
              <p>Admin</p>
            </div>
          </div>
          
          <button mat-menu-item (click)="goToProfile()">
            <mat-icon>person</mat-icon>
            <span>Meu Perfil</span>
          </button>
          
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Sair</span>
          </button>
        </mat-menu>
      </div>
    </header>

    <div class="content-body">
      <router-outlet></router-outlet>
      
      <div class="welcome-message">
        <h1>Bem-vindo de volta, {{ userName }}! üëã</h1>
        <p>Aqui est√° um resumo do que est√° acontecendo na sua cl√≠nica hoje.</p>
      </div>

      <!-- Aqui vir√° o conte√∫do do dashboard -->
      <div class="stats-grid">
        <div class="stat-card blue">
          <mat-icon>event</mat-icon>
          <div class="stat-info">
            <h3>145</h3>
            <p>Total de Agendamentos</p>
            <span class="change positive">+2.1%</span>
          </div>
        </div>

        <div class="stat-card green">
          <mat-icon>people</mat-icon>
          <div class="stat-info">
            <h3>892</h3>
            <p>Pacientes Ativos</p>
            <span class="change positive">+8.2%</span>
          </div>
        </div>

        <div class="stat-card pink">
          <mat-icon>attach_money</mat-icon>
          <div class="stat-info">
            <h3>R$ 24.8k</h3>
            <p>Receita Mensal</p>
            <span class="change positive">+16.1%</span>
          </div>
        </div>

        <div class="stat-card orange">
          <mat-icon>schedule</mat-icon>
          <div class="stat-info">
            <h3>32 min</h3>
            <p>Tempo M√©dio</p>
            <span class="change negative">-1.1%</span>
          </div>
        </div>
      </div>

      <!-- Estat√≠sticas R√°pidas -->
      <div class="quick-stats">
        <h2>Estat√≠sticas R√°pidas</h2>
        <div class="quick-stats-grid">
          <div class="quick-stat-card">
            <p class="stat-label">Taxa de Comparecimento</p>
            <div class="stat-value-row">
              <h3>83.3%</h3>
              <span class="change positive">+5.2%</span>
            </div>
          </div>
          
          <div class="quick-stat-card">
            <p class="stat-label">Satisfa√ß√£o</p>
            <div class="stat-value-row">
              <h3>4.8</h3>
              <span class="change negative">-0.3</span>
            </div>
          </div>
          
          <div class="quick-stat-card">
            <p class="stat-label">No-Show</p>
            <div class="stat-value-row">
              <h3>16.7%</h3>
              <span class="change negative">-2.1%</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Container com A√ß√µes R√°pidas e √Årea do Cliente -->
      <div class="actions-client-container">
        <!-- A√ß√µes R√°pidas -->
        <div class="quick-actions">
          <h2>A√ß√µes R√°pidas</h2>
          <div class="action-cards-grid">
            <button class="action-card blue">
              <mat-icon>event_note</mat-icon>
              <span>Novo Agendamento</span>
            </button>
            
            <button class="action-card green">
              <mat-icon>person_add</mat-icon>
              <span>Cadastrar Paciente</span>
            </button>
            
            <button class="action-card pink">
              <mat-icon>link</mat-icon>
              <span>Link do Cliente</span>
            </button>
            
            <button class="action-card orange">
              <mat-icon>schedule</mat-icon>
              <span>Lista de Espera</span>
            </button>
            
            <button class="action-card purple">
              <mat-icon>description</mat-icon>
              <span>Relat√≥rios</span>
            </button>
            
            <button class="action-card dark">
              <mat-icon>file_download</mat-icon>
              <span>Exportar Dados</span>
            </button>
          </div>
        </div>

        <!-- √Årea do Cliente -->
        <div class="client-area">
          <div class="client-area-header">
            <mat-icon class="area-icon">link</mat-icon>
            <div>
              <h3>√Årea do Cliente</h3>
              <p>Gere e compartilhe o link de acesso</p>
            </div>
          </div>
          
          <div class="client-area-body">
            <div class="input-group">
              <label>Nome do Paciente</label>
              <input 
                type="text" 
                placeholder="Digite o nome do paciente..."
                [(ngModel)]="patientName"
              >
            </div>
            
            <div class="input-group">
              <label>Link Gerado</label>
              <div class="link-input-container">
                <input 
                  type="text" 
                  readonly 
                  [value]="generatedLink"
                >
                <button class="copy-btn" (click)="copyLink()">
                  <mat-icon>content_copy</mat-icon>
                  Copiar
                </button>
              </div>
            </div>
            
            <div class="action-buttons">
              <button class="share-btn copy" (click)="copyLink()">
                <mat-icon>content_copy</mat-icon>
                Copiar
              </button>
              
              <button class="share-btn whatsapp" (click)="shareWhatsApp()">
                <mat-icon>chat</mat-icon>
                WhatsApp
              </button>
              
              <button class="share-btn email" (click)="shareEmail()">
                <mat-icon>email</mat-icon>
                Email
              </button>
            </div>
            
            <a href="#" class="view-client-area">
              <mat-icon>open_in_new</mat-icon>
              Visualizar √°rea do cliente
            </a>
          </div>
        </div>
      </div>

      <!-- Container com Gr√°fico e Atividades Recentes -->
      <div class="chart-activities-container">
        <!-- Receita vs Consultas -->
        <div class="revenue-chart">
          <div class="chart-header">
            <h2>Receita vs Consultas</h2>
            <div class="chart-legend">
              <span class="legend-item">
                <span class="dot receita"></span>
                Receita
              </span>
              <span class="legend-item">
                <span class="dot consultas"></span>
                Consultas
              </span>
            </div>
          </div>
          <div class="chart-placeholder">
            <svg viewBox="0 0 600 300" class="chart-svg">
              <!-- Grid lines -->
              <line x1="50" y1="250" x2="550" y2="250" stroke="#e0e0e0" stroke-width="1"/>
              <line x1="50" y1="200" x2="550" y2="200" stroke="#e0e0e0" stroke-width="1"/>
              <line x1="50" y1="150" x2="550" y2="150" stroke="#e0e0e0" stroke-width="1"/>
              <line x1="50" y1="100" x2="550" y2="100" stroke="#e0e0e0" stroke-width="1"/>
              <line x1="50" y1="50" x2="550" y2="50" stroke="#e0e0e0" stroke-width="1"/>
              
              <!-- Revenue Line (Pink gradient) -->
              <defs>
                <linearGradient id="revenueGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:rgba(236, 72, 153, 0.2);stop-opacity:1" />
                  <stop offset="100%" style="stop-color:rgba(236, 72, 153, 0);stop-opacity:1" />
                </linearGradient>
              </defs>
              
              <polyline 
                points="50,180 150,150 250,160 350,120 450,130 550,100" 
                fill="none" 
                stroke="#ec4899" 
                stroke-width="3"/>
              
              <polygon 
                points="50,180 150,150 250,160 350,120 450,130 550,100 550,250 50,250" 
                fill="url(#revenueGradient)"/>
              
              <!-- Months labels -->
              <text x="50" y="275" font-size="12" fill="#666" text-anchor="middle">Jan</text>
              <text x="150" y="275" font-size="12" fill="#666" text-anchor="middle">Fev</text>
              <text x="250" y="275" font-size="12" fill="#666" text-anchor="middle">Mar</text>
              <text x="350" y="275" font-size="12" fill="#666" text-anchor="middle">Abr</text>
              <text x="450" y="275" font-size="12" fill="#666" text-anchor="middle">Maio</text>
              <text x="550" y="275" font-size="12" fill="#666" text-anchor="middle">Jun</text>
            </svg>
          </div>
        </div>

        <!-- Atividades Recentes -->
        <div class="recent-activities">
          <h2>Atividades Recentes</h2>
          <div class="activities-list">
            <div class="activity-item">
              <div class="activity-icon blue">
                <mat-icon>event</mat-icon>
              </div>
              <div class="activity-details">
                <p class="activity-title">Novo paciente cadastrado</p>
                <span class="activity-subtitle">Maria Oliveira</span>
                <span class="activity-time">h√° 2 min</span>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-icon green">
                <mat-icon>check_circle</mat-icon>
              </div>
              <div class="activity-details">
                <p class="activity-title">Agendamento confirmado</p>
                <span class="activity-subtitle">Jo√£o Silva - Dra. Ana</span>
                <span class="activity-time">h√° 15 min</span>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-icon pink">
                <mat-icon>payments</mat-icon>
              </div>
              <div class="activity-details">
                <p class="activity-title">Assistir gerado</p>
                <span class="activity-subtitle">Beatriz Mendes - Maio</span>
                <span class="activity-time">h√° 32 min</span>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-icon orange">
                <mat-icon>event_busy</mat-icon>
              </div>
              <div class="activity-details">
                <p class="activity-title">Reagendamento</p>
                <span class="activity-subtitle">Sara Lopes - 10h00</span>
                <span class="activity-time">h√° 1h</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Pr√≥ximos Agendamentos -->
      <div class="upcoming-appointments">
        <div class="appointments-header">
          <h2>Pr√≥ximos Agendamentos</h2>
          <a href="#" class="view-all">Ver todos</a>
        </div>
        
        <div class="appointments-list">
          <div class="appointment-card">
            <div class="appointment-avatar">MS</div>
            <div class="appointment-info">
              <h4>Maria Silva</h4>
              <p>Consulta Geral</p>
            </div>
            <div class="appointment-time">
              <mat-icon>schedule</mat-icon>
              <span>09:00</span>
              <span class="date">Hoje</span>
            </div>
            <div class="appointment-status confirmed">
              <mat-icon>check_circle</mat-icon>
            </div>
          </div>
          
          <div class="appointment-card">
            <div class="appointment-avatar">JS</div>
            <div class="appointment-info">
              <h4>Jo√£o Santos</h4>
              <p>Cl√≠nico</p>
            </div>
            <div class="appointment-time">
              <mat-icon>schedule</mat-icon>
              <span>10:30</span>
              <span class="date">Hoje</span>
            </div>
            <div class="appointment-status pending">
              <mat-icon>access_time</mat-icon>
            </div>
          </div>
          
          <div class="appointment-card">
            <div class="appointment-avatar">AC</div>
            <div class="appointment-info">
              <h4>Ana Costa</h4>
              <p>Primeira Consulta</p>
            </div>
            <div class="appointment-time">
              <mat-icon>schedule</mat-icon>
              <span>14:00</span>
              <span class="date">Hoje</span>
            </div>
            <div class="appointment-status confirmed">
              <mat-icon>check_circle</mat-icon>
            </div>
          </div>
          
          <div class="appointment-card">
            <div class="appointment-avatar">PL</div>
            <div class="appointment-info">
              <h4>Pedro Lima</h4>
              <p>Consulta Especializada</p>
            </div>
            <div class="appointment-time">
              <mat-icon>schedule</mat-icon>
              <span>15:30</span>
              <span class="date">Amanh√£</span>
            </div>
            <div class="appointment-status cancelled">
              <mat-icon>cancel</mat-icon>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
