<div class="dashboard-container">
  <app-sidebar></app-sidebar>
  
  <div class="main-content">
    <header class="content-header">
      <div class="search-bar">
        <mat-icon>search</mat-icon>
        <input type="text" placeholder="Buscar pacientes, agendamentos...">
      </div>
      
      <div class="user-info">
        <mat-icon class="notification-icon">notifications_none</mat-icon>
        
        <button mat-icon-button [matMenuTriggerFor]="userMenu" class="user-avatar">
          <div class="avatar-circle">{{ userInitials }}</div>
        </button>
        
        <mat-menu #userMenu="matMenu" class="user-menu">
          <div class="user-menu-header">
            <div class="avatar-circle large">{{ userInitials }}</div>
            <div class="user-details">
              <h4>{{ userName }}</h4>
              <p>Admin</p>
            </div>
          </div>
          
          <button mat-menu-item (click)="goToProfile()">
            <mat-icon>person</mat-icon>
            <span>Meu Perfil</span>
          </button>
          
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Sair</span>
          </button>
        </mat-menu>
      </div>
    </header>

    <div class="content-body">
      <router-outlet></router-outlet>
      
      <div class="welcome-message">
        <h1>Bem-vindo de volta, {{ userName }}! 游녦</h1>
        <p>Aqui est치 um resumo do que est치 acontecendo na sua cl칤nica hoje.</p>
      </div>

      <!-- Filtros -->
      <div class="filters-section">
        <div class="filter-group">
          <label for="period-select">Per칤odo:</label>
          <select id="period-select" [(ngModel)]="selectedPeriod" class="filter-select">
            <option *ngFor="let period of periods" [value]="period.value">
              {{ period.label }}
            </option>
          </select>
        </div>

        <div class="filter-group">
          <label for="professional-select">Profissional:</label>
          <select id="professional-select" [(ngModel)]="selectedProfessional" class="filter-select">
            <option *ngFor="let prof of professionals" [value]="prof.value">
              {{ prof.label }}
            </option>
          </select>
        </div>

        <button class="filter-btn" (click)="applyFilters()">Filtrar</button>
      </div>

      <!-- Aqui vir치 o conte칰do do dashboard -->
      <div class="stats-grid">
        <div class="stat-card blue">
          <mat-icon>event</mat-icon>
          <div class="stat-info">
            <h3>145</h3>
            <p>Total de Agendamentos</p>
            <span class="change positive">+2.1%</span>
          </div>
        </div>

        <div class="stat-card green">
          <mat-icon>people</mat-icon>
          <div class="stat-info">
            <h3>892</h3>
            <p>Pacientes Ativos</p>
            <span class="change positive">+8.2%</span>
          </div>
        </div>

        <div class="stat-card pink">
          <mat-icon>attach_money</mat-icon>
          <div class="stat-info">
            <h3>R$ 24.8k</h3>
            <p>Receita Mensal</p>
            <span class="change positive">+16.1%</span>
          </div>
        </div>

        <div class="stat-card orange">
          <mat-icon>schedule</mat-icon>
          <div class="stat-info">
            <h3>32 min</h3>
            <p>Tempo M칠dio</p>
            <span class="change negative">-1.1%</span>
          </div>
        </div>
      </div>

      <!-- Estat칤sticas R치pidas -->
      <div class="quick-stats">
        <h2>Estat칤sticas R치pidas</h2>
        <div class="quick-stats-grid">
          <div class="quick-stat-card">
            <p class="stat-label">Taxa de Comparecimento</p>
            <div class="stat-value-row">
              <h3>83.3%</h3>
              <span class="change positive">+5.2%</span>
            </div>
          </div>
          
          <div class="quick-stat-card">
            <p class="stat-label">Satisfa칞칚o</p>
            <div class="stat-value-row">
              <h3>4.8</h3>
              <span class="change negative">-0.3</span>
            </div>
          </div>
          
          <div class="quick-stat-card">
            <p class="stat-label">No-Show</p>
            <div class="stat-value-row">
              <h3>16.7%</h3>
              <span class="change negative">-2.1%</span>
            </div>
          </div>
        </div>
      </div>

      <!-- A칞칫es R치pidas -->
      <div class="quick-actions">
        <div class="action-cards-grid">
          <button class="action-card blue">
            <mat-icon>event_note</mat-icon>
            <span>Novo Agendamento</span>
          </button>
          
          <button class="action-card green">
            <mat-icon>person_add</mat-icon>
            <span>Cadastrar Paciente</span>
          </button>
          
          <button class="action-card pink">
            <mat-icon>event_note</mat-icon>
            <span>Adir Agenda</span>
          </button>
          
          <button class="action-card orange">
            <mat-icon>schedule</mat-icon>
            <span>Lista de Espera</span>
          </button>
          
          <button class="action-card purple">
            <mat-icon>link</mat-icon>
            <span>Link do Cliente</span>
          </button>
        </div>
      </div>

      <!-- Container com Gr치fico e Atividades Recentes -->
      <div class="chart-activities-container">
        <!-- Receita vs Consultas -->
        <div class="revenue-chart">
          <div class="chart-header">
            <h2>Receita & Consultas</h2>
            <div class="chart-legend">
              <span class="legend-item">
                <span class="dot receita"></span>
                Receita
              </span>
              <span class="legend-item">
                <span class="dot consultas"></span>
                Consultas
              </span>
            </div>
          </div>
          <div class="chart-placeholder">
            <svg viewBox="0 0 600 300" class="chart-svg">
              <!-- Grid lines -->
              <line x1="50" y1="250" x2="550" y2="250" stroke="#e0e0e0" stroke-width="1"/>
              <line x1="50" y1="200" x2="550" y2="200" stroke="#e0e0e0" stroke-width="1"/>
              <line x1="50" y1="150" x2="550" y2="150" stroke="#e0e0e0" stroke-width="1"/>
              <line x1="50" y1="100" x2="550" y2="100" stroke="#e0e0e0" stroke-width="1"/>
              <line x1="50" y1="50" x2="550" y2="50" stroke="#e0e0e0" stroke-width="1"/>
              
              <!-- Revenue Line (Pink gradient) -->
              <defs>
                <linearGradient id="revenueGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:rgba(236, 72, 153, 0.2);stop-opacity:1" />
                  <stop offset="100%" style="stop-color:rgba(236, 72, 153, 0);stop-opacity:1" />
                </linearGradient>
                <linearGradient id="consultasGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:rgba(168, 85, 247, 0.2);stop-opacity:1" />
                  <stop offset="100%" style="stop-color:rgba(168, 85, 247, 0);stop-opacity:1" />
                </linearGradient>
              </defs>
              
              <!-- Consultas Line (Purple) -->
              <polyline 
                points="50,200 150,170 250,180 350,150 450,160 550,140" 
                fill="none" 
                stroke="#a855f7" 
                stroke-width="3"/>
              
              <polygon 
                points="50,200 150,170 250,180 350,150 450,160 550,140 550,250 50,250" 
                fill="url(#consultasGradient)"/>
              
              <!-- Revenue Line (Pink) -->
              <polyline 
                points="50,180 150,150 250,160 350,120 450,130 550,100" 
                fill="none" 
                stroke="#ec4899" 
                stroke-width="3"/>
              
              <polygon 
                points="50,180 150,150 250,160 350,120 450,130 550,100 550,250 50,250" 
                fill="url(#revenueGradient)"/>
              
              <!-- Months labels -->
              <text x="50" y="275" font-size="12" fill="#666" text-anchor="middle">Jan</text>
              <text x="150" y="275" font-size="12" fill="#666" text-anchor="middle">Fev</text>
              <text x="250" y="275" font-size="12" fill="#666" text-anchor="middle">Mar</text>
              <text x="350" y="275" font-size="12" fill="#666" text-anchor="middle">Abr</text>
              <text x="450" y="275" font-size="12" fill="#666" text-anchor="middle">Maio</text>
              <text x="550" y="275" font-size="12" fill="#666" text-anchor="middle">Jun</text>
            </svg>
          </div>
        </div>

        <!-- Atividades Recentes -->
        <div class="recent-activities">
          <h2>Atividades Recentes</h2>
          <div class="activities-list">
            <div class="activity-item">
              <div class="activity-icon blue">
                <mat-icon>event</mat-icon>
              </div>
              <div class="activity-details">
                <p class="activity-title">Novo paciente cadastrado</p>
                <span class="activity-subtitle">Maria Oliveira</span>
                <span class="activity-time">h치 2 min</span>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-icon green">
                <mat-icon>check_circle</mat-icon>
              </div>
              <div class="activity-details">
                <p class="activity-title">Agendamento confirmado</p>
                <span class="activity-subtitle">Jo칚o Silva - Dra. Ana</span>
                <span class="activity-time">h치 15 min</span>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-icon pink">
                <mat-icon>payments</mat-icon>
              </div>
              <div class="activity-details">
                <p class="activity-title">Relat칩rio gerado</p>
                <span class="activity-subtitle">Beatriz Mendes - Maio</span>
                <span class="activity-time">h치 32 min</span>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-icon orange">
                <mat-icon>event_busy</mat-icon>
              </div>
              <div class="activity-details">
                <p class="activity-title">Cancelamento</p>
                <span class="activity-subtitle">Sara Lopes - 10h00</span>
                <span class="activity-time">h치 1h</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Pr칩ximos Agendamentos -->
      <div class="upcoming-appointments">
        <div class="appointments-header">
          <h2>Pr칩ximos Agendamentos</h2>
          <a href="#" class="view-all">Ver todos</a>
        </div>
        
        <div class="appointments-list">
          <div class="appointment-card">
            <div class="appointment-avatar">MS</div>
            <div class="appointment-info">
              <h4>Maria Silva</h4>
              <p>Consulta Geral</p>
            </div>
            <div class="appointment-time">
              <mat-icon>schedule</mat-icon>
              <span>09:00</span>
              <span class="date">Hoje</span>
            </div>
            <div class="appointment-status confirmed">
              <mat-icon>check_circle</mat-icon>
            </div>
          </div>
          
          <div class="appointment-card">
            <div class="appointment-avatar">JS</div>
            <div class="appointment-info">
              <h4>Jo칚o Santos</h4>
              <p>Cl칤nico</p>
            </div>
            <div class="appointment-time">
              <mat-icon>schedule</mat-icon>
              <span>10:30</span>
              <span class="date">Hoje</span>
            </div>
            <div class="appointment-status pending">
              <mat-icon>access_time</mat-icon>
            </div>
          </div>
          
          <div class="appointment-card">
            <div class="appointment-avatar">AC</div>
            <div class="appointment-info">
              <h4>Ana Costa</h4>
              <p>Primeira Consulta</p>
            </div>
            <div class="appointment-time">
              <mat-icon>schedule</mat-icon>
              <span>14:00</span>
              <span class="date">Hoje</span>
            </div>
            <div class="appointment-status confirmed">
              <mat-icon>check_circle</mat-icon>
            </div>
          </div>
          
          <div class="appointment-card">
            <div class="appointment-avatar">PL</div>
            <div class="appointment-info">
              <h4>Pedro Lima</h4>
              <p>Consulta Especializada</p>
            </div>
            <div class="appointment-time">
              <mat-icon>schedule</mat-icon>
              <span>15:30</span>
              <span class="date">Amanh칚</span>
            </div>
            <div class="appointment-status cancelled">
              <mat-icon>cancel</mat-icon>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
